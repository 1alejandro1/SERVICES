@using Sarc.WebApp.Models.Supervisor
@model ProcessUpdateSolucionCasoSupervisorViewModel
@{
    ViewData["Title"] = "Proceso Cierre Caso";
}

<div class="container mt-5">
    <div class="row justify-content-sm-center">
        <div class="col-sm-6 align-self-center">
            <article class="card bg-bgcontent-dark rounded shadow mb-3" style="min-width: 350px;">
                <div class="card-header">
                    @switch (@Model?.TipoCaso)
                    {
                        case "R":
                            <span>RECLAMO: </span>
                            break;
                        case "S":
                            <span>SOLICITUD: </span>
                            break;
                        case "C":
                            <span>CONSULTA: </span>
                            break;
                        default:
                            <span>Caso no identificado</span>
                            break;
                    }
                    <span class="d-inline">@Model?.NroCaso</span>
                    <span class="d-inline">@Model?.Accion</span>
                </div>
                <div class="card-body">
                    @if (Model != null)
                    {
                        <div class="box__content-message  mb-3">
                            <div class="">
                                <svg viewBox="0 0 50 50" width="50" height="50">
                                    @if (Model.SolucionCaso?.Meta.StatusCode == 200)
                                    {
                                        <circle class="circle-success" cx="20" cy="20" r="18" />
                                    }
                                    else
                                    {
                                        <circle class="circle-nosuccess" cx="20" cy="20" r="18" />
                                    }
                                </svg>
                            </div>
                            <div class="box__message">
                                <h6>Solucion Caso Supervisor</h6>
                                <p class="card-text message_proccess">@Model.SolucionCaso.Meta.Msj</p>
                            </div>
                        </div>

                        <div class="box__content-message  mb-3">
                            <div class="">
                                <svg viewBox="0 0 50 50" width="50" height="50">
                                    @if (Model.UpdateRespuesta?.Meta.StatusCode == 200)
                                    {
                                        <circle class="circle-success" cx="20" cy="20" r="18" />
                                    }
                                    else
                                    {
                                        <circle class="circle-nosuccess" cx="20" cy="20" r="18" />
                                    }
                                </svg>
                            </div>
                            <div class="box__message">
                                <h6>Actualizacion Info Respuesta</h6>
                                <p class="card-text message_proccess">@Model.UpdateRespuesta.Meta.Msj?.ToLower()</p>
                            </div>
                        </div>

                        <div class="box__content-message  mb-3">
                            <div class="">
                                <svg viewBox="0 0 50 50" width="50" height="50">
                                    @if (Model.CasoOrigen?.Meta.StatusCode == 200)
                                    {
                                        <circle class="circle-success" cx="20" cy="20" r="18" />
                                    }
                                    else
                                    {
                                        <circle class="circle-nosuccess" cx="20" cy="20" r="18" />
                                    }
                                </svg>
                            </div>
                            <div class="box__message">
                                <h6>Actualizacion Origen Caso</h6>
                                <p class="card-text message_proccess">@Model.CasoOrigen.Meta.Msj</p>
                            </div>
                        </div>

                        <div class="box__content-message  mb-3">
                            <div class="">
                                <svg viewBox="0 0 50 50" width="50" height="50">
                                    @if (Model.InformacionAdicional?.Meta.StatusCode == 200)
                                    {
                                        <circle class="circle-success" cx="20" cy="20" r="18" />
                                    }
                                    else
                                    {
                                        <circle class="circle-nosuccess" cx="20" cy="20" r="18" />
                                    }
                                </svg>
                            </div>
                            <div class="box__message">
                                <h6>Actualizacion Infomación adicional</h6>
                                <p class="card-text message_proccess">@Model.InformacionAdicional.Meta.Msj</p>
                            </div>
                        </div>

                        if (Model?.UpdateDevolucionCobro != null)
                        {
                            <div class="box__content-message  mb-3">
                                <div class="">
                                    <svg viewBox="0 0 50 50" width="50" height="50">
                                        @if (Model.UpdateDevolucionCobro?.Meta.StatusCode == 200)
                                        {
                                            <circle class="circle-success" cx="20" cy="20" r="18" />
                                        }
                                        else
                                        {
                                            <circle class="circle-nosuccess" cx="20" cy="20" r="18" />
                                        }
                                    </svg>
                                </div>
                                <div class="box__message">
                                    <h6>Actualizacion Devolucion/Cobro</h6>
                                    <p class="card-text message_proccess">@Model.UpdateDevolucionCobro?.Meta.Msj</p>
                                </div>
                            </div>
                        }


                        if (Model?.Transaction != null)
                        {
                            <div class="box__content-message  mb-3">
                                <div class="">
                                    <svg viewBox="0 0 50 50" width="50" height="50">
                                        @if (Model.Transaction?.Meta.StatusCode == 200)
                                        {
                                            <circle class="circle-success" cx="20" cy="20" r="18" />
                                        }
                                        else
                                        {
                                            <circle class="circle-nosuccess" cx="20" cy="20" r="18" />
                                        }
                                    </svg>
                                </div>
                                <div class="box__message">
                                    <h6>@Model.Accion</h6>
                                    <p class="card-text message_proccess">@Model.Transaction.Meta.StatusCode : @Model.Transaction.Meta.Msj</p>
                                </div>
                            </div>
                        }

                        <div class="box__content-message  mb-3">
                            <div class="">
                                <svg viewBox="0 0 50 50" width="50" height="50">
                                    @if (Model.CierreCaso?.Meta?.StatusCode == 200)
                                    {
                                        <circle class="circle-success" cx="20" cy="20" r="18" />
                                    }
                                    else
                                    {
                                        <circle class="circle-nosuccess" cx="20" cy="20" r="18" />
                                    }
                                </svg>
                            </div>
                            <div class="box__message">
                                <h6>Cierre Caso</h6>
                                @if (Model.CierreCaso?.Meta.StatusCode == 200)
                                {
                                    <p class="card-text message_proccess">@Model?.CierreCaso?.Meta?.Msj</p>
                                }
                                else
                                {
                                    <p class="card-text message_proccess">No procesado.</p>
                                    <p class="card-text message_proccess">@Model?.CierreCaso?.Meta?.Msj</p>
                                }
                            </div>
                        </div>

                        <div class="box__content-message  mb-3">
                            <div class="">
                                <svg viewBox="0 0 50 50" width="50" height="50">
                                    @if (Model.UploadFilesSharepoint?.Meta.StatusCode == 200)
                                    {
                                        <circle class="circle-success" cx="20" cy="20" r="18" />
                                    }
                                    else
                                    {
                                        <circle class="circle-nosuccess" cx="20" cy="20" r="18" />
                                    }
                                </svg>
                            </div>
                            <div class="box__message">
                                <h6>Archivos Adjuntos</h6>
                                @if (Model.UploadFilesSharepoint != null && Model.UploadFilesSharepoint?.Meta.StatusCode == 200)
                                {
                                    <p class="card-text message_proccess">@Model.UploadFilesSharepoint?.Meta?.Msj</p>
                                }
                                else
                                {
                                    <p class="card-text message_proccess">No procesado.</p>
                                    <p class="card-text message_proccess">@Model.UploadFilesSharepoint?.Meta?.Msj</p>
                                }

                            </div>
                        </div>
                    }
                    else
                    {
                        <p class="card-text">Caso no procesado</p>
                    }

                    <a href="@Url.Action("BandejadeEntrada")"
                       class="btn btn-bodydark text-light btn-sm shadow float-end">Ir a la Bandeja</a>
                </div>
                
            </article>
        </div>
    </div>
</div>



